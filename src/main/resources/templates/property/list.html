<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>HEMISOFT - Object Management</title>
		
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	    
	    <link rel="stylesheet" type="text/css" media="screen, projection" 
	        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7-1/css/bootstrap.min.css" 
	        th:href="@{../webjars/bootstrap/3.3.7-1/css/bootstrap.min.css}" />
			          
<!-- 	    <link rel="stylesheet" type="text/css" media="screen, projection"  -->
<!-- 	        href="#"  -->
<!-- 	    	th:href="@{../webjars/jquery-ui/1.12.1/jquery-ui.min.css}" /> -->
			
		<link rel="stylesheet" type="text/css" media="screen" 
	          href="/static/css/app.css" 
	          th:href="@{/css/app.css}" />
		
		<script type="text/javascript" 
			src="http://code.jquery.com/jquery-3.1.1-1.min.js" 
			th:src="@{../webjars/jquery/3.1.1-1/jquery.min.js}"></script>
		
		<script type="text/javascript" 
			src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7-1/js/modal.js" 
			th:src="@{../webjars/bootstrap/3.3.7-1/js/modal.js}"></script>
	    	
<!-- 	    <script type="text/javascript"  -->
<!-- 	    	src="#"  -->
<!-- 	    	th:src="@{../webjars/jquery-ui/1.12.1/jquery-ui.min.js}"></script> -->


			<script>
				
				$(document).ready(function() {
					$("#buttonNewProperty").click(function(){
						$("#dialogEditProperty").modal("show")
					});
				});
			
			</script>
			
	</head>

	<body>
		<h1>Immobilien Mangement</h1>
		
		<div class="container">
		
			<main>
			
				<article> <!-- Auflistung ... -->
					<header>
						<h3>Immobilien Auflistung</h3>
						<button id="buttonNewProperty" type="button" class="btn btn-primary">
							ADD NEW PROPERTY
						</button>
					</header>
					<section>
						<table class="table table-striped">
							<tr>
								<th>Immobilientyp</th>
								<th>Adresse/Ort</th>
								<th>Wohnfläche</th>
								<th>Grundstücksfläche</th>
								<th>Erwerbsdatum</th>
							</tr>
							<tr th:if="${#lists.isEmpty(properties)}">
								<td colspan="5">Keine Einträge vorhanden.</td>
							</tr>
							<tr th:each="property : ${properties}">
								<td th:text="${property.type}">PROPERTY_TYP</td>
								<td th:text="${property.address}">ADDRESS</td>
								<td th:text="${property.livingSpaceInQm}">LIVING_SPACE_IN_QM</td>
								<td th:text="${property.landAreaInQm}">LAND_AREA_IN_QM</td>
								<td th:text="${property.yearOfConstruction}">YEAR_OF_CONSTRUCTION</td>
							</tr>
						</table>
					</section>				
				</article> <!-- ... Auflistung -->
				
				<div id="dialogEditProperty" class="modal fade" tabindex="-1" role="dialog">
					<div class="modal-dialog" role="document">
						<form action="#" th:action="@{./save}" th:object="${property}" method="post">
	    					<div class="modal-content">
	      						<div class="modal-header">
									<h4 class="modal-title">Stammdaten Erfassung</h4>
								</div>
								<div class="modal-body">
										<ul th:if="${#fields.hasErrors('*')}">
										 	<li th:each="err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>
										</ul>
										<div class="container-fluid">
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="dropdownImmobilienTyp">
														<strong>Immobilientyp</strong>
													</label >
												</div>
												<div class="col-md-6 col-md-offset-2">
													<select id="selectImmoType" 
														th:field="*{type}"
														class="form-control"
													>
														<option th:each="type : ${T(ch.hemisoft.immo.domain.PropertyType).values()}"
													          th:value="${{type}}" 
													          th:text="${type.name()}"
													    />
													</select>
												</div>
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputPurchasePrice"><strong>Kaufpreis</strong></label >
												</div>	
												<div class="col-md-6 col-md-offset-2">	
													<input type="number" id="inputPurchasePrice" name="inputPurchasePrice" 
														th:field="*{purchasePrice}"
														min="1" max="10000000" 
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputNoApartments"><strong>Anzahl Wohnungen</strong></label >
												</div>	
												<div class="col-md-6 col-md-offset-2">	
													<input type="number" id="inputNoApartments" name="inputNoApartments" 
														th:field="*{noApartments}"
														min="1" max="30" 
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputNoParking"><strong>Anzahl PKW Stellplätze</strong></label >
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="number" id="inputNoParking" name="inputNoParking" 
														th:field="*{noParking}"
														min="0" max="5" 
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputLivingSpaceInQm"><strong>Wohnfläche in m²</strong></label >
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="number" id="inputLivingSpaceInQm" name="inputLivingSpaceInQm" 
														th:field="*{livingSpaceInQm}"
														min="0" max="1000" 
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputLandAreaInQm"><strong>Grundstücksfläche in m²</strong></label>
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="number" id="inputLandAreaInQm" name="inputLandAreaInQm" 
														th:field="*{landAreaInQm}"
														min="0" max="10000" 
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputYearOfConstruction"><strong>Baujahr</strong></label>
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="month" id="inputYearOfConstruction" name="inputYearOfConstruction" 
														th:field="*{yearOfConstruction}"
														required="required"
														class="form-control" 
												/>
												</div>
											</div>
											
											<div class="row filterRow">				
												<div class="col-md-4">
													<label for="inputAdress"><strong>Adresse</strong></label>
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="text" id="inputAdress" name="inputAdress" 
														th:field="*{address.street}"
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputZip"><strong>Postleitzahl</strong></label>
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="text" id="inputZip" name="inputZip" 
														th:field="*{address.zip}"
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label for="inputCity"><strong>Ort</strong></label>
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="text" id="inputCity" name="inputCity" 
														th:field="*{address.city}"
														required="required"
														class="form-control" 
													/>
												</div>				
											</div>
											
											<div class="row filterRow">
												<div class="col-md-4">
													<label id="inputPurchaseDate"><strong>Erwerbsdatum</strong></label>
												</div>
												<div class="col-md-6 col-md-offset-2">	
													<input type="date" id="inputPurchaseDate" name="inputPurchaseDate" 
														th:field="*{purchaseDate}"
														required="required"
														class="form-control" 
													/>
												</div>
											</div>
											
										</div>
								</div> <!-- End Modal Body -->
								<div class="modal-footer">
									<button type="submit" name="save" th:text="Speichern">SPEICHERN</button>
								</div>			
							</div>
						</form>			
					</div>
				</div>
			</main>
		</div>
	</body>
</html>