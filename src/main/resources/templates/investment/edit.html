<!DOCTYPE html>
<html>
	<head>
		<title>HEMISOFT - Immobilienmanagement - Finanzierung</title>
		<!--/*/ <th:block th:include="fragments/header :: common-header"></th:block> /*/-->
		
		<script type="text/javascript" 
			src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7-1/js/dropdown.js" 
			th:src="@{/webjars/bootstrap/3.3.7-1/js/dropdown.js}"></script>		
		
	</head>

	<body>
		<div class="container">
			<!--/*/ <th:block th:replace="fragments/navbar :: common-navbar"></th:block> /*/-->
		
			<main id="mainPage">
			
				<form id="investmentDataEditForm" name="investmentDataEditForm" th:action="@{/investment/save}" th:object="${property}" method="post" novalidate="novalidate">
					<div class="panel panel-primary">
						<div class="panel-heading">
							<h1 class="panel-title pull-left">Immobilien Mangement - Finanzierung</h1>
							<div class="btn-group pull-right">
								<button id="buttonSubmit" type="submit" class="btn btn-primary pull-right" name="save" th:text="Speichern">SPEICHERN</button>

								<div class="dropdown pull-right">
									<button id="dropdownProperties" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
										<span th:if="${null == property}">SELECT PROPERTY</span>  
										<span th:if="${null != property}" th:text="'Immobilie:' + ${property.address.street}">SELECTED PROPERTY</span>  
										<span class="caret"></span>
									</button>
									<ul class="dropdown-menu">
										<li th:each="property : ${properties}">
											<a href="#" th:href="@{/investment/edit/} + ${property.id}" >
												<span th:text="${property.address.street}">ADRESSE</span>
											</a>
										</li>
									</ul>
								</div>
								
							</div>
	
	        				<div class="clearfix"></div>
						</div>
						<div class="panel-body">
						
							<div th:if="${#fields.hasErrors('*')}" class="col-md-12">
								<div class="panel panel-danger">
									<div class="panel-heading">
										<h1 class="panel-title pull-left">Daten nicht vollständig</h1>
										<div class="clearfix"></div>
									</div>
									<div class="panel-body">
										<ul>
										 	<li th:each="err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>
										</ul>
									</div>
								</div>
							</div>
							
							<div class="row equal-height-panels">
							
								<!-- FINANCING NEEDS -->
								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h1 class="panel-title pull-left">Berechnung des Finanzierungsbedarfs</h1>
											<div class="clearfix"></div>
										</div>
										<div class="panel-body">
											<div class="container-fluid">
												
												<input type="hidden" th:field="*{id}" />
											
												<div class="row filterRow ">
													<div class="col-md-4">
														<label for="inputPurchasePrice"><strong>Kaufpreis</strong></label >
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputPurchasePrice" name="inputPurchasePrice" 
															th:field="*{purchasePrice}"
															min="1" max="10000000" 
															readonly="readonly"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label for="inputTotalAttendantCost"><strong>Einmalige Kosten beim Kauf</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputTotalAttendantCost" name="inputTotalAttendantCost" 
															th:field="*{totalAttendantCost}"
															readonly="readonly"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label for="inputTotalCost"><strong>Gesamtsumme der Kosten</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputTotalCost" name="inputTotalCost" 
															th:field="*{totalPurchaseCost}"
															readonly="readonly"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label for="inputNetAssets"><strong>Eigenkapital</strong></label >
													</div>	
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputNetAssets" name="inputNetAssets" 
															th:field="*{netAssets}"
															min="1" max="10000000" 
															required="required"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label id="inputFinancingNeedsTotal"><strong>Kreditbedarf</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputFinancingNeedsTotal" name="inputFinancingNeedsTotal" 
															th:field="*{financialNeedsTotal}"
															readonly="readonly"
															class="form-control" 
														/>
													</div>
												</div>
											</div>
										</div>
									</div> <!-- END PANEL -->
								</div> <!-- END PANEL CONTAINER -->
								
							</div> <!-- END PANEL GROUP -->
							
							
							
							<div class="row equal-height-panels">
							
								<!-- FINANCING NEEDS -->
								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h1 class="panel-title pull-left">Eckdaten der Kreditfinanzierung</h1>
											<div class="clearfix"></div>
										</div>
										<div class="panel-body">
											<div class="container-fluid">
												
												<input type="hidden" th:field="*{id}" />
											
												<div class="row filterRow ">
													<div class="col-md-4">
														<label for="inputInterestRateNominalInPercent"><strong>Zinssatz nominal (%)</strong></label >
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputInterestRateNominalInPercent" name="inputInterestRateNominalInPercent" 
															th:field="*{selectedCredit.interestRateNominalInPercent}"
															min="0" max="100"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label for="inputRedemptionAtBeginInPercent"><strong>Anfängliche Tilgung (%)</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputRedemptionAtBeginInPercent" name="inputRedemptionAtBeginInPercent" 
															th:field="*{selectedCredit.redemptionAtBeginInPercent}"
															min="0" max="100"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label for="inputSpecialRedemptionEachYearInPercent"><strong>jährliche Sondertilgung (% vom Darlehensbetrag)</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputSpecialRedemptionEachYearInPercent" name="inputSpecialRedemptionEachYearInPercent" 
															th:field="*{selectedCredit.specialRedemptionEachYearInPercent}"
															min="0" max="100"
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label for="inputSpecialRedemptionEachYearAbsolut"><strong>Jährliche Sondertilgungsbetrag (€)</strong></label >
													</div>	
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputSpecialRedemptionEachYearAbsolut" name="inputSpecialRedemptionEachYearAbsolut" 
															th:field="*{selectedCredit.specialRedemptionEachYearAbsolut}"
															min="1" max="10000000" 
															class="form-control" 
														/>
													</div>				
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label id="inputSpecialRedemptionTotal"><strong>Summe Sondertilgung (€)</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputSpecialRedemptionTotal" name="inputSpecialRedemptionTotal" 
															th:field="*{specialRedemptionTotal}"
															readonly="readonly"
															class="form-control" 
														/>
													</div>
												</div>
												<div class="row filterRow">
													<div class="col-md-4">
														<label id="inputMonthlyRate"><strong>Monatliche Rate (Belastung)</strong></label>
													</div>
													<div class="col-md-6 col-md-offset-2">	
														<input type="number" id="inputMonthlyRate" name="inputMonthlyRate" 
															th:field="*{selectedCredit.monthlyRate}"
															readonly="readonly"
															class="form-control" 
														/>
													</div>
												</div>
											</div>
										</div>
									</div> <!-- END PANEL -->
								</div> <!-- END PANEL CONTAINER -->
								
							</div> <!-- END PANEL GROUP -->
							
						</div>			
					</div>
				</form>
			</main>
		</div>
	
	</body>
</html>